create_table 'pending_checkins', force: :cascade do |t|
  t.string :udid, null: false
  t.string :serial_number, null: false
  t.string :imei
  t.datetime :created_at, null: false
  t.datetime :updated_at, null: false
end

add_index 'pending_checkins',
  ['udid'],
  name: 'index_pending_checkins_udid',
  unique: true,
  using: :btree

create_table 'mdm_devices', force: :cascade do |t|
  t.string :udid, null: false
  t.string :serial_number, null: false
  t.string :imei
  t.datetime 'created_at', null: false
  t.datetime 'updated_at', null: false
end

add_index 'mdm_devices',
  ['udid'],
  name: 'index_mdm_devices_udid',
  unique: true,
  using: :btree

add_index 'mdm_devices',
  ['serial_number'],
  name: 'index_mdm_devices_serial_number',
  unique: true,
  using: :btree

create_table "mdm_push_endpoints", force: :cascade do |t|
  t.bigint "mdm_device_id", null: false
  t.string "token", null: false
  t.string "push_magic", null: false
  t.text "unlock_token"
  t.datetime "created_at", null: false
  t.datetime "updated_at", null: false
end

add_index "mdm_push_endpoints",
  ["mdm_device_id"],
  name: "index_mdm_push_tokens_mdm_device_id",
  unique: true,
  using: :btree

create_table "mdm_command_requests", force: :cascade do |t|
  t.bigint "mdm_device_id"
  t.text "request_payload", null: false
  t.datetime "created_at", null: false
end

add_index "mdm_command_requests",
  ["mdm_device_id"],
  name: "index_mdm_command_requests_mdm_device_id",
  using: :btree

create_table "mdm_command_handling_requests", force: :cascade do |t|
  t.bigint "mdm_device_id"
  t.string "command_uuid", null: false
  t.text "request_payload", null: false
  t.datetime "created_at", null: false
end

add_index "mdm_command_handling_requests",
  ["mdm_device_id", "command_uuid"],
  name: "index_mdm_command_handling_requests_mdm_device_id_command_uuid",
  unique: true,
  using: :btree

create_table "mdm_command_histories", force: :cascade do |t|
  t.bigint "mdm_device_id"
  t.string "request_type", null: false
  t.string "command_uuid", null: false
  t.text "request_payload", null: false
  t.text "response_payload", null: false
  t.datetime "created_at", null: false
end

add_index "mdm_command_histories",
  ["mdm_device_id", "command_uuid"],
  name: "index_command_histories_mdm_device_id_command_uuid",
  unique: true,
  using: :btree

add_index "mdm_command_histories",
  ["created_at"],
  name: "index_command_histories_created_at",
  using: :btree

create_table "declarative_management_synchronization_request_histories", force: :cascade do |t|
  t.bigint "mdm_device_id", null: false
  t.string "endpoint", null: false
  t.text "request_payload"
  t.text "response_payload"
  t.datetime "created_at", null: false
end

add_index "declarative_management_synchronization_request_histories",
  ["mdm_device_id", "endpoint"],
  name: "index_ddm_synchronization_request_histories_endpoint",
  using: :btree

add_index "declarative_management_synchronization_request_histories",
  ["created_at"],
  name: "index_ddm_synchronization_request_histories_created_at",
  using: :btree

create_table 'managed_apple_accounts', force: :cascade do |t|
  t.string :email, null: false
  t.datetime :created_at, null: false
  t.datetime :updated_at, null: false
end

add_index 'managed_apple_accounts',
  ['email'],
  name: 'index_managed_apple_accounts_email',
  unique: true,
  using: :btree

create_table 'managed_apple_account_access_tokens', force: :cascade do |t|
  t.bigint :managed_apple_account_id, null: false
  t.string :token, null: false
  t.datetime :created_at, null: false
  t.datetime :expires_at, null: false
  t.datetime :updated_at, null: false
end

add_index 'managed_apple_account_access_tokens',
  ['token'],
  name: 'index_managed_apple_account_access_tokens_token',
  unique: true,
  using: :btree

add_index 'managed_apple_account_access_tokens',
  ['expires_at'],
  name: 'index_managed_apple_account_access_tokens_expires_at',
  using: :btree

create_table 'byod_devices', force: :cascade do |t|
  t.string :enrollment_id, null: false
  t.datetime 'created_at', null: false
end

add_index 'byod_devices',
  ['enrollment_id'],
  name: 'index_byod_devices_enrollment_id',
  unique: true,
  using: :btree

create_table "byod_push_endpoints", force: :cascade do |t|
  t.bigint "byod_device_id", null: false
  t.string "token", null: false
  t.string "push_magic", null: false
  t.datetime "created_at", null: false
  t.datetime "updated_at", null: false
end

add_index "byod_push_endpoints",
  ["byod_device_id"],
  name: "index_byod_push_tokens_byod_device_id",
  unique: true,
  using: :btree
